<div class="w-full mb-5">
  <a
    (click)="backClicked()"
    class="flex uppercase cursor-pointer font-bold rounded-md hover:bg-green-50 text-green-700 py-3 px-6 max-w-max"
  >
    <svg class="h-5 fill-current" viewBox="0 0 24 24">
      <path
        d="M7.828 11H20V13H7.828L13.192 18.364L11.778 19.778L4 12L11.778 4.222L13.192 5.636L7.828 11Z"
      />
    </svg>

    <span class="">Volver</span>
  </a>
</div>

<div *ngIf="!book; else dataBook" class="w-full flex flex-col items-center">
  <h1 class="font-semibold text-2xl">El libro no existe ðŸ˜¥</h1>
</div>

<ng-template #dataBook>
  <div class="flex flex-col lg:flex-row space-y-5 text-gray-700">
    <div class="w-full space-y-5 lg:w-1/2 lg:mr-7 xl:w-1/3 2xl:w-1/4 2xl:mr-14">
      <div class="bg-gray-100 flex justify-center items-center">
        <img src="{{ book.image }}" alt="{{ book.title }}" />
      </div>

      <button
        [ngClass]="
          book.rented
            ? 'border-green-600 border-solid text-green-600'
            : 'text-white bg-green-600'
        "
        class="flex rounded-md w-full justify-center border-2 items-center py-5 px-7 font-bold uppercase"
        (click)="rentBook(book.id)"
      >
        {{ book.rented ? "Devolver" : "Alquilar" }}
      </button>

      <div
        *ngIf="book.rented"
        class="flex space-x-2 items-center text-red-500 transform transition-all"
      >
        <svg class="h-5 fill-current" viewBox="0 0 24 24">
          <path
            d="M4.49998 20V14C4.49998 11.8783 5.34284 9.84344 6.84313 8.34315C8.34342 6.84285 10.3783 6 12.5 6C14.6217 6 16.6565 6.84285 18.1568 8.34315C19.6571 9.84344 20.5 11.8783 20.5 14V20H21.5V22H3.49998V20H4.49998ZM6.49998 20H18.5V14C18.5 12.4087 17.8678 10.8826 16.7426 9.75736C15.6174 8.63214 14.0913 8 12.5 8C10.9087 8 9.38256 8.63214 8.25734 9.75736C7.13212 10.8826 6.49998 12.4087 6.49998 14V20ZM11.5 2H13.5V5H11.5V2ZM20.278 4.808L21.692 6.222L19.572 8.343L18.157 6.929L20.278 4.808ZM3.30798 6.222L4.72198 4.808L6.84298 6.928L5.42998 8.344L3.30798 6.222ZM7.49998 14C7.49998 12.6739 8.02677 11.4021 8.96445 10.4645C9.90213 9.52678 11.1739 9 12.5 9V11C11.7043 11 10.9413 11.3161 10.3787 11.8787C9.81605 12.4413 9.49998 13.2044 9.49998 14H7.49998Z"
          />
        </svg>
        <span class="mt-1"><strong>15</strong> dias restantes</span>
      </div>
    </div>

    <div class="space-y-5 pt-3 lg:w-1/2">
      <h6 class="text-lg font-bold">{{ book.title }}</h6>
      <p class="text-sm">
        By <strong class="font-semibold">{{ book.author }}</strong>
      </p>
      <div
        class="text-green-700 w-max rounded-full bg-green-50 px-2 py-0.5 flex items-baseline space-x-1"
      >
        <svg class="h-6 w-6 fill-current" viewBox="0 0 24 24">
          <path
            d="M7.05 3.691c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.372 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.539 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.363-1.118L.98 9.483c-.784-.57-.381-1.81.587-1.81H5.03a1 1 0 00.95-.69L7.05 3.69z"
          />
        </svg>
        <span class="self-center">4.95</span>
      </div>

      <div>
        <span
          ><strong class="font-medium text-green-700">{{
            book.edition
          }}</strong>
          ediciÃ³n |
        </span>

        <span
          ><strong class="font-medium text-green-700">{{ book.pages }}</strong>
          paginas</span
        >
      </div>

      <div class="border-t-2 border-gray-200 pt-4">
        <p>{{ book.description }}</p>
      </div>
    </div>
  </div>
</ng-template>
